name: test
on:
  push:
    branches:
    - master

env:
  FIRST_NAME: Mona
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: ls -a via OPEN SSH Private Key
        uses: fifsky/ssh-action@master
        with:
          command: |
            cd /tmp
            ls -a
            echo "env_var:$FIRST_NAME"
            exit 1
          host: ${{ secrets.IP }}
          user: root
          # key: ${{ secrets.PRIVATE_KEY}}
          pass: ${{ secrets.PRIVATE_KEY }}
          args: "-tt -vvv"
# name: Auto puller
# on: [push]
# jobs:

#   build:
#     name: Build
#     runs-on: ubuntu-latest
#     steps:
#     - name: ls -a via ssh
#       uses: fifsky/ssh-action@master
#       with:
#         command: |
#           ls -a
#         host: ${{ secrets.IP }}
#         user: ${{ secrets.USER }}
#         # key: ${{ secrets.PRIVATE_KEY}}
#         pass: ${{ secrets.PRIVATE_KEY }}
#     # - name: executing remote ssh commands using password
#     #   uses: appleboy/ssh-action@v0.1.8
#     #   with:
#     #     host: ${{ secrets.IP }}
#     #     username: ${{ secrets.USER }}
#     #     password: ${{ secrets.PRIVATE_KEY }}
#     #     port: ${{ secrets.PORT }}
#     #     script: |
#     #       cd Repository
#     #       ${{ secrets.SCRIPT}}
#     #       pm2 restart 0
